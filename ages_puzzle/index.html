<html lang="en">
<style>
.button {
    background-color: white; /* Green */
    border: 1;
    color: black;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 12px;
}
.find_button {
      background-color: #800080; /* Green */
      border: 1;
      color: black;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 12px;
  }
input[type=number]::-webkit-inner-spin-button {
  opacity: 1;
}
.border {
  border: 5px solid RosyBrown;
}
.border-thin {
  border: 2px solid RosyBrown;
}
div#archive_div {
  width: 90%;
  margin: 0 auto 0 auto;
  overflow: hidden;
}
.tooltip {
    position: relative;
    display: inline-block;
    border-bottom: 1px dotted black;
}
.tooltip .tooltiptext {
    visibility: hidden;
    width: 120px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -60px;
    opacity: 0;
    transition: opacity 0.3s;
}
.tooltip .tooltiptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
}
.tooltip:hover .tooltiptext {
    visibility: visible;
    opacity: 1;
}
</style>

<head>
  <title>The age puzzle</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0"/>
</head>
<script src="../libraries/core/d3.v4.min.js"></script>
<script src="../libraries/core/d3-selection-multi.v1.min.js"></script>
<script src="../libraries/core/jquery-3.2.1.min.js"></script>
<script src="../libraries/math/math.min.js"></script>
<script src="../libraries/ui/popper.min.js"></script>
<script src="../libraries/ui/bootstrap.min.js"></script>
<script type="text/x-mathjax-config"> MathJax.Hub.Config({ extensions: ["tex2jax.js"], jax: ["input/TeX","output/HTML-CSS"], tex2jax: { inlineMath: [["\(","\)"]] } }); </script>
<script type="text/javascript" src="../libraries/math/MathJax/MathJax.js"></script>
<link rel="stylesheet" href="../libraries/ui/bootstrap.min.css">
<link rel="stylesheet" href="../libraries/ui/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheet.css">
<body>
<font size="6.5">
<div class = 'container' style = 'width: 1000px;'>
  <div class = 'text-center mt-2'>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   version="1.1"
   x="0px"
   y="0px"
   viewBox="0 0 623.40515 290.32822"
   enable-background="new 0 0 100 100"
   xml:space="preserve"
   id="svg3396"
   inkscape:version="0.92.2 (unknown)"
   sodipodi:docname="ages.svg"
   width="623.40515"
   height="290.32822"
   inkscape:export-filename="/home/studio/Downloads/ages.png"
   inkscape:export-xdpi="199.993"
   inkscape:export-ydpi="199.993"><metadata
     id="metadata3416"><rdf:RDF><cc:Work
         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title /></cc:Work></rdf:RDF></metadata><defs
     id="defs3414" /><sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="1313"
     inkscape:window-height="744"
     id="namedview3412"
     showgrid="false"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:zoom="1.3531784"
     inkscape:cx="370.25184"
     inkscape:cy="134.298"
     inkscape:window-x="53"
     inkscape:window-y="24"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg3396" /><g
     transform="matrix(2.3865843,0,0,2.3865843,150.33146,47.34468)"
     id="g3528"
     style="fill:#6b8e23"><path
       inkscape:connector-curvature="0"
       d="m 36.294,13.273 c 0,0 2.9,-0.581 5.223,-2.01 -0.256,0.825 -0.393,1.7 -0.393,2.609 0,4.902 3.975,8.875 8.875,8.875 4.9,0 8.876,-3.972 8.876,-8.875 C 58.876,8.972 54.9,5 50,5 47.111,5 44.554,6.385 42.934,8.52 41.575,7.534 38.752,6.145 36.257,9.204 c 0,0 -2.077,2.637 -5.374,0.292 -10e-4,-0.001 0.788,4.754 5.411,3.777 z"
       id="path3530"
       style="fill:#6b8e23" /><path
       inkscape:connector-curvature="0"
       d="m 59.576,36.2 14.47,-16.752 c 1.453,-1.699 1.251,-4.251 -0.445,-5.704 -0.765,-0.65 -1.696,-0.969 -2.628,-0.969 -1.138,0 -2.273,0.48 -3.076,1.416 L 56.409,26.708 c 0,-4.332 -1.563,-1.257 -6.198,-1.257 H 49.79 c -4.635,0 -6.197,-3.075 -6.197,1.257 L 32.103,14.431 c -0.803,-0.937 -1.937,-1.417 -3.076,-1.417 -0.932,0 -1.863,0.319 -2.627,0.971 -1.697,1.449 -1.899,4.002 -0.445,5.701 l 14.478,16.758 -3.749,33.204 h 4.093 L 38.821,90.58 c -0.208,2.224 1.425,4.194 3.65,4.403 0.126,0.01 0.255,0.017 0.38,0.017 v 0 h 10e-4 c 2.061,0 3.824,-1.572 4.021,-3.667 l 0.002,-0.021 2.855,-19.615 h 0.535 l 2.857,19.637 c 0.2,2.094 1.964,3.666 4.025,3.666 0.126,0 0.253,-0.007 0.382,-0.017 2.223,-0.209 3.855,-2.18 3.65,-4.403 L 59.224,69.647 h 4.09"
       id="path3532"
       style="fill:#6b8e23" /></g><g
     transform="matrix(2.3865843,0,0,2.3865843,278.99952,48.822681)"
     id="g3510"
     style="fill:#4682b4"><circle
       cx="50"
       cy="13.874"
       r="8.8739996"
       id="circle3512"
       style="fill:#4682b4" /><path
       inkscape:connector-curvature="0"
       d="m 59.575,36.2 14.47,-16.752 c 1.453,-1.699 1.252,-4.251 -0.446,-5.704 -0.763,-0.65 -1.695,-0.969 -2.626,-0.969 -1.14,0 -2.273,0.48 -3.076,1.416 L 56.408,26.708 c 0,-4.332 -1.563,-1.257 -6.198,-1.257 h -0.42 c -4.634,0 -6.198,-3.075 -6.198,1.257 L 32.104,14.431 c -0.802,-0.937 -1.937,-1.417 -3.076,-1.417 -0.931,0 -1.863,0.319 -2.626,0.971 -1.698,1.449 -1.899,4.002 -0.446,5.701 L 40.432,36.444 38.88,58.671 h 2.895 v 0.288 L 38.821,90.58 c -0.208,2.224 1.427,4.194 3.65,4.403 0.128,0.01 0.256,0.017 0.381,0.017 2.063,0 3.825,-1.572 4.021,-3.667 l 2.858,-30.612 h 0.537 l 2.857,30.612 c 0.198,2.095 1.961,3.667 4.022,3.667 0.127,0 0.253,-0.007 0.382,-0.017 2.223,-0.209 3.856,-2.18 3.65,-4.403 L 58.225,58.958 v -0.287 h 2.895"
       id="path3514"
       style="fill:#4682b4" /></g><g
     id="g3598"
     transform="matrix(2.3865843,0,0,2.3865843,11.580734,45.866678)"
     style="fill:#b22222"><circle
       id="circle3600"
       r="8.8739996"
       cy="13.874"
       cx="50"
       style="fill:#b22222" /><path
       id="path3602"
       d="m 59.575,36.2 14.47,-16.752 c 1.453,-1.699 1.252,-4.251 -0.446,-5.704 -0.763,-0.65 -1.695,-0.969 -2.626,-0.969 -1.14,0 -2.273,0.48 -3.076,1.416 L 56.408,26.708 c 0,-4.332 -1.563,-1.257 -6.198,-1.257 h -0.42 c -4.634,0 -6.198,-3.075 -6.198,1.257 L 32.104,14.431 c -0.802,-0.937 -1.937,-1.417 -3.076,-1.417 -0.931,0 -1.863,0.319 -2.626,0.971 -1.698,1.449 -1.899,4.002 -0.446,5.701 L 40.432,36.444 38.88,58.671 h 2.895 v 0.288 L 38.821,90.58 c -0.208,2.224 1.427,4.194 3.65,4.403 0.128,0.01 0.256,0.017 0.381,0.017 2.063,0 3.825,-1.572 4.021,-3.667 l 2.858,-30.612 h 0.537 l 2.857,30.612 c 0.198,2.095 1.961,3.667 4.022,3.667 0.127,0 0.253,-0.007 0.382,-0.017 2.223,-0.209 3.856,-2.18 3.65,-4.403 L 58.225,58.958 v -0.287 h 2.895"
       inkscape:connector-curvature="0"
       style="fill:#b22222" /></g><g
     id="g3604"
     transform="matrix(2.3865843,0,0,2.3865843,412.57722,48.822681)"
     style="fill:#483d8b"><path
       id="path3606"
       d="m 36.294,13.273 c 0,0 2.9,-0.581 5.223,-2.01 -0.256,0.825 -0.393,1.7 -0.393,2.609 0,4.902 3.975,8.875 8.875,8.875 4.9,0 8.876,-3.972 8.876,-8.875 C 58.876,8.972 54.9,5 50,5 47.111,5 44.554,6.385 42.934,8.52 41.575,7.534 38.752,6.145 36.257,9.204 c 0,0 -2.077,2.637 -5.374,0.292 -10e-4,-0.001 0.788,4.754 5.411,3.777 z"
       inkscape:connector-curvature="0"
       style="fill:#483d8b" /><path
       id="path3608"
       d="m 59.576,36.2 14.47,-16.752 c 1.453,-1.699 1.251,-4.251 -0.445,-5.704 -0.765,-0.65 -1.696,-0.969 -2.628,-0.969 -1.138,0 -2.273,0.48 -3.076,1.416 L 56.409,26.708 c 0,-4.332 -1.563,-1.257 -6.198,-1.257 H 49.79 c -4.635,0 -6.197,-3.075 -6.197,1.257 L 32.103,14.431 c -0.803,-0.937 -1.937,-1.417 -3.076,-1.417 -0.932,0 -1.863,0.319 -2.627,0.971 -1.697,1.449 -1.899,4.002 -0.445,5.701 l 14.478,16.758 -3.749,33.204 h 4.093 L 38.821,90.58 c -0.208,2.224 1.425,4.194 3.65,4.403 0.126,0.01 0.255,0.017 0.38,0.017 v 0 h 10e-4 c 2.061,0 3.824,-1.572 4.021,-3.667 l 0.002,-0.021 2.855,-19.615 h 0.535 l 2.857,19.637 c 0.2,2.094 1.964,3.666 4.025,3.666 0.126,0 0.253,-0.007 0.382,-0.017 2.223,-0.209 3.855,-2.18 3.65,-4.403 L 59.224,69.647 h 4.09"
       inkscape:connector-curvature="0"
       style="fill:#483d8b" /></g><flowRoot
     xml:space="preserve"
     id="flowRoot18"
     style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"><flowRegion
       id="flowRegion20"><rect
         id="rect22"
         width="462.61453"
         height="42.862049"
         x="95.331108"
         y="13.202903" /></flowRegion><flowPara
       id="flowPara24">Select the ages of four peopleSelect the ages of four peopleSelect the ages of four peopleSelect the ages of four peopleSe</flowPara></flowRoot><text
     xml:space="preserve"
     style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
     x="95.331108"
     y="39.067932"
     id="text28"><tspan
       sodipodi:role="line"
       id="tspan26"
       x="95.331108"
       y="39.067932"
       style="font-size:33.33333206px">Select the ages of four people</tspan></text>
</svg><br>
      <!-- <img src = "ages.svg"></img><br> -->
</font>
      <span style="display:inline-block; width: 35;"></span>
      <input type = 'number' placeholder = "0" id = 'number1' min = 0 max = 99></input>
      <!-- <p><text>Age of second person </text> --><span style="display:inline-block; width: 35;"></span>
      <input type = 'number' placeholder = "0" id = 'number2' min = 0 max = 99></input>
      <!-- <p><text>Age of third person </text> --><span style="display:inline-block; width: 35;"></span>
      <input type = 'number' placeholder = "0" id = 'number3' min = 0 max = 99></input>
      <!-- <p><text>Age of fourth person </text> --><span style="display:inline-block; width: 35;"></span>
      <input type = 'number' placeholder = "0" id = 'number4' min = 0 max = 99></input>

  </div>

  <div class = 'text-center mt-2'>
    <button class = 'find_button' id = 'enter_btn'><font color="white" method="POST" action="http://127.0.0.1:3000/Desktop/a.json"> Calculate</font></button>
  </div>
  <div class = 'mt-3'>
  <center><div class="center border">
    <div id = 'archive_div' ></div>
  </div>
  </p>
    <button id = 'clear_archive_btn' class = 'button big-btn ' style="backgroundcolor:red;">
     Erase</button></center>
  <p>

</font>
  </div>
</div>

</body>

<script>

var number1 = 0, number2 = 0, number3 = 0, number4 = 0;
var date = new Date();

d3.select('#number1').on('change', function(){
  number1 = parseInt(this.value);
})

d3.select('#number2').on('change', function(){
  number2 = parseInt(this.value);
})
d3.select('#number3').on('change', function(){
  number3 = parseInt(this.value);
})

d3.select('#number4').on('change', function(){
  number4 = parseInt(this.value);
})

function update(){
  var ages = new Array(number1, number2, number3, number4);
  ages = ages.sort(function (a, b) {  return a - b;  });
  ages = ages.sort((a, b) => a - b);
}

d3.select('#enter_btn').on('click', function(){
  agefunc();
  submitData();
})

var data_log = [];
var data_log2 = [];


$('body').on('data_log', function(event, d){
  var temp = {
    age1: number1,
    age2: number2,
    age3: number3,
    age4: number4,
    event_type: d.type
  };
  data_log.push(temp);
  submitData(data_log);

})






function agefunc(ages){
  var ages = new Array(number1, number2, number3, number4);
  ages = ages.sort(function (a, b) {  return a - b;  });
  ages = ages.sort((a, b) => a - b);

  //var sorted = ages.sort((a, b) => a > b);
  minimum = ages[0];
  maximum = ages[3];
  diff = maximum - minimum;
  sum = ages [0] + ages[1]+ ages[2]+ ages[3];

  var text1 = '<table border="1"><tr><td>'+ 'Youngest person\'s age =' +minimum + '<br>'
  var text2 = 'Oldest person\'s age =' +maximum + '<br>'
  var text3 = 'Difference of smallest and largest age= '+ diff + '<br>'
  var text4 = 'Sum of all ages= '+ sum + '<br>' + '</td></tr></table><br>'
  var text =  text1 + text2 + text3 + text4;
  d3.select('#archive_div').append('div').append('span').attrs({ class: 'my-3' }).html(text);
  $('body').trigger('data_log', { type: 'archive' });

//for clearing the archive/board
d3.select('#clear_archive_btn').on('click', function(){
  d3.select('#archive_div').selectAll('div').remove();
  //setupArchive();
  $('body').trigger('data_log', { type: 'clear_archive' });
})
}
//for writing on the archive/board
// function push_data(data_log){
//   $.ajax({
//           data:data_log,
//           url: "testingtool/data_log.json",
//           method: 'POST',
//       });
//   }
// function defJson(){
// var JsonArray =
//   {
//   "app_name": "ages_puzzle",
//   "params":
//   {
//     data_log,
//     "language" : "en"
//   }
// }
// }
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0)==' ') c = c.substring(1);
      if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
}
function submitData(data_log){
  var user_id = this.getCookie('user_id')
  var data =
  {
  "app_name": "ages_puzzle",
  "params":
  {
    data_log,
    "language" : "en"
  }
}
var data_string = {}
data_string['user_id'] = this.getCookie('user_id');
var date = new Date();
var csrftoken;
csrftoken = this.getCookie('csrftoken');
  var timestamp = date.getFullYear() + "-" + (date.getMonth() + 1) + "-" + date.getDate() + " " +  date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds();
data_string['created_at'] = timestamp
for (var key in data) {data_string[key] = data[key];};
data_string = JSON.stringify(data_string);
  // var csrftoken;
  // csrftoken = this.getCookie('csrftoken');
  $.ajax({
                type: "POST",
                data:{
                      "user_data":data_string,
                      "app_name":"ages_puzzle",
                      'csrfmiddlewaretoken':csrftoken,
                  },
                url: "/tools/logging",
                datatype: "json",
                success: function(data) {
              }
});
}

</script>

